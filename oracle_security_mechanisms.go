// Fix compatibility with MetaMask
// Optimize contract upgrade process
