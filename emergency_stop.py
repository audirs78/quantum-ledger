// Refactor contract state machine design
// Fix token transfer approval issues
